{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Carrito | Motion Store</title>

    <!-- CSS GLOBAL -->
    <link rel="stylesheet" href="{% static 'tienda/css/motion.css' %}">
</head>
<body>

<!-- NAVBAR -->
<nav class="motion-navbar">
    <div class="nav-left">
        <div class="hamburger" onclick="toggleMenu()">â˜°</div>
    </div>

    <div class="nav-center">
        <span class="brand-main">MOTION</span>
        <span class="brand-sub">Venta de pelÃ­culas</span>
    </div>

    <div class="nav-right">
        {% if user.is_authenticated %}
            <a href="/carrito/">ðŸ›’ Carrito</a>
            <a href="/usuarios/logout/">Salir</a>
        {% else %}
            <a href="/usuarios/login/">Login</a>
            <a href="/usuarios/registro/">Registro</a>
        {% endif %}
    </div>
</nav>

<!-- MENU LATERAL -->
<div id="menuCategorias" class="side-menu">
    <div class="menu-header">ðŸŽ¬ CategorÃ­as</div>
    {% for cat in categorias %}
        <a href="/categoria/{{ cat.id }}/" class="menu-item">{{ cat.nombre }}</a>
    {% endfor %}
</div>

<!-- CONTENIDO -->
<div class="motion-container">
    <h2 class="section-title">ðŸ›’ Mi Carrito</h2>

    {% if items %}
    <div class="cart-box">
        <table class="motion-table">
            <thead>
                <tr>
                    <th>PelÃ­cula</th>
                    <th>Cantidad</th>
                    <th>Precio</th>
                    <th>Subtotal</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>{{ item.producto.nombre }}</td>
                    <td>{{ item.cantidad }}</td>
                    <td>${{ item.producto.precio }}</td>
                    <td class="subtotal">${{ item.subtotal }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="cart-actions">
            <a href="/" class="btn-secondary">Seguir comprando</a>
            <a href="/checkout/" class="btn-primary">Finalizar compra</a>
        </div>
    </div>
    {% else %}
        <div class="empty-cart">
            <p>ðŸ›’ Tu carrito estÃ¡ vacÃ­o</p>
            <a href="/" class="btn-primary">Ver pelÃ­culas</a>
        </div>
    {% endif %}
</div>

<!-- JS -->
<script>
function toggleMenu(){
    document.getElementById("menuCategorias").classList.toggle("active");
}
</script>

</body>
</html>
